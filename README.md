Naive back propagation in Cpp.